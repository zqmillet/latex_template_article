\documentclass{ctexart}
% 中文字体采用 ctex 默认配置，调整英文字体配置
\setromanfont{Times New Roman}
\setsansfont{Arial}
\setmonofont{Inconsolata}

% 数学配置
\usepackage{mathrsfs}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{mathtools}

% 配置页面布局
\usepackage{geometry}
\geometry
{
    inner          = 1.1in,
    outer          = 1.1in,
    top            = 1.2in,
    bottom         = 1.2in,
    marginparwidth = 1.3in,
    marginparsep   = 0pt,
    headheight     = 21pt
}

% 段落首行缩进
\usepackage{indentfirst}

% 屏蔽宏包警告
\RequirePackage[]{silence}
\WarningsOff[hyperref]

% 设置书签、超链接等
\usepackage{hyperref}
\hypersetup{
    bookmarks = true,
    colorlinks,
    linkcolor = {black},
    citecolor = {blue!50!black},
    urlcolor  = black,
    bookmarksdepth = 4,
    pdfpagelabels
}

% 设置表格
\usepackage{tabu}
\usepackage{longtable}

% 设置列表格式
\usepackage{enumitem}
\setenumerate[1]{itemsep = 0pt, partopsep = 0pt, parsep = 0pt, topsep = 0pt, label = (\arabic*), leftmargin = \parindent}
\setitemize[1]  {itemsep = 0pt, partopsep = 0pt, parsep = 0pt, topsep = 0pt, leftmargin = 1em}
\setitemize[2]  {itemsep = 0pt, partopsep = 0pt, parsep = 0pt, topsep = 0pt, leftmargin = 1em}
\setdescription {labelindent = 0em, itemsep = 0pt, parsep = 0pt, topsep = 0pt, partopsep = 0pt, labelsep* = 1em, leftmargin = !, style = standard, font = \normalfont}

% 设置页眉页脚
\usepackage{fancyhdr}
\usepackage{lastpage}
\makeatletter
\DeclareDocumentCommand\authorname{m}{
    \gdef\qiqi@authorname{#1}
}
\DeclareDocumentCommand\maintitle{m}{
    \gdef\qiqi@title{#1}
}
\DeclareDocumentCommand\abstract{+m}{
    \long\gdef\qiqi@abstract{#1}
}

\fancypagestyle{plain}{%
    \fancyhf{}
    \fancyhead[L]{}
    \fancyhead[C]{\qiqi@title}
    \fancyhead[R]{\qiqi@authorname{}}
    \fancyfoot[C]{}
    \fancyfoot[R]{第 \thepage{} 页，共 \pageref{LastPage} 页}
    \fancyfoot[L]{\zhtoday}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}
}

\fancypagestyle{cover}{%
    \fancyhf{}
    \fancyhead[L]{}
    \fancyhead[C]{\qiqi@title}
    \fancyhead[R]{\qiqi@authorname{}}
    \fancyfoot[C]{}
    \fancyfoot[R]{第 \thepage{} 页}
    \fancyfoot[L]{\zhtoday}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}
}
\makeatother

% % 设置图表标题格式
% \usepackage{caption}
% \captionsetup[figure]{
%     font = {small, bf},
%     labelsep = period,
%     textformat = simple,
%     skip = 5pt
% }
% \captionsetup[table]{
%     font = {small, bf},
%     labelsep = period,
%     textformat = simple,
%     skip = 5pt
% }

% 设置封面、摘要和目录
\makeatletter
\AtBeginDocument{
    % page 1
    \pagestyle{empty}
    \pagenumbering{Alph}
    \pdfbookmark[1]{封面}{Cover}
    \begin{centering}
    \rule{0pt}{0pt}\\[100pt]
    {\Huge\bfseries \qiqi@title}\\[70pt]
    {\large\textbf{作者：}\qiqi@authorname}\\\vfill
    {\today}\\
    \end{centering}
    
    % page 2
    \clearpage
    \setcounter{page}{1}
    \renewcommand{\thepage}{\Roman{page}}
    % \pdfbookmark[1]{摘要}{Abstract}
    \addcontentsline{toc}{section}{摘要}
    \section*{摘要}
    \qiqi@abstract
    
    % page 3
    \clearpage
    \setcounter{tocdepth}{4}
    \pdfbookmark[1]{\contentsname}{Contents}
    \tableofcontents
    
    % page 4
    \clearpage
    \pagestyle{plain}
    \setcounter{page}{1}
    \renewcommand{\thepage}{\arabic{page}}
}
\makeatother

% 设置引用格式
\usepackage{cleveref}
\makeatletter
\crefformat{figure}              {图 #2#1#3}
\crefformat{section}             {第 #2#1#3 小节}
\crefformat{table}               {表 #2#1#3}
\crefformat{appendix}            {附录 #2#1#3}
\crefformat{equation}            {公式 #2(#1)#3}
\crefformat{Example}             {例 #2#1#3}
\crefformat{tcb@cnt@codebox}     {代码 #2#1#3}
\crefformat{tcb@cnt@codefilebox} {代码 #2#1#3}
\makeatother

% 设置行内代码
\usepackage[many, minted]{tcolorbox}
\tcbuselibrary{breakable}
\usepackage{minted}
\usepackage{color}
\makeatletter
\color{black}
\let\default@color\current@color
\def\inlinebox@true{true}
\define@key{inlinebox}{frame rule color} {\def\inlinebox@framerulecolor{#1}}
\define@key{inlinebox}{frame back color} {\def\inlinebox@framebackcolor{#1}}
\define@key{inlinebox}{frame text color} {\def\inlinebox@frametextcolor{#1}}
\define@key{inlinebox}{frame rule width} {\def\inlinebox@framerulewidth{#1}}
\define@key{inlinebox}{banner width}     {\def\inlinebox@bannerwidth{#1}}
\define@key{inlinebox}{show banner}[true]{\def\inlinebox@showbanner{#1}}
\define@key{inlinebox}{banner text color}{\def\inlinebox@bannertextcolor{#1}}
\define@key{inlinebox}{banner back color}{\def\inlinebox@bannerbackcolor{#1}}
\define@key{inlinebox}{banner text}      {\def\inlinebox@bannertext{#1}}
\NewDocumentCommand{\inlinebox}{O{} m}{%
  \setkeys{inlinebox}{%
    frame rule color  = black,
    frame back color  = white,
    frame text color  = black,
    frame rule width  = 0.4pt,
    banner width      = 8pt,
    show banner       = false,
    banner text color = white,
    banner back color = black,
    banner text       = BAN,
    #1
  }%
  \tcbox[%
    enhanced,
    tcbox raise base,
    nobeforeafter,
    boxrule           = \inlinebox@framerulewidth,
    top               = -1pt,
    bottom            = -1pt,
    right             = -1pt,
    arc               = 1pt,
    left              = \ifx\inlinebox@showbanner\inlinebox@true\inlinebox@bannerwidth-2pt\else-1pt\fi,
    colframe          = \inlinebox@framerulecolor,
    coltext           = \inlinebox@frametextcolor,
    colback           = \inlinebox@framebackcolor,
    before upper      = {\vphantom{蛤dg}},
    overlay           = {%
      \begin{tcbclipinterior} \ifx\inlinebox@showbanner\inlinebox@true
          \fill[\inlinebox@bannerbackcolor] (frame.south west) rectangle node[text = \inlinebox@bannertextcolor, scale = 0.4, font = \sffamily\bfseries, rotate = 90] {\inlinebox@bannertext} ([xshift = \inlinebox@bannerwidth]frame.north west);
        \fi
      \end{tcbclipinterior}%
    }%
  ]{#2}%
}
\makeatother
\newcommand{\inlinetext}[1]{\inlinebox{\mintinline{text}{#1}}}

% 设置标题和作者
\maintitle{CaseBot 智能化 API 手册}
\authorname{张琦}
\abstract{
这是摘要。

this is abstract.
}



\begin{document}
\section{Introduction}
中文测试 English
\textbf{中文测试 English}
\emph{中文测试 English}
\texttt{中文测试 English}

\inlinetext{int a = 3}
\end{document}
